{% load staticfiles %}
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Cluster Web Searcher</title>
    <script>
         function show_hide(id)
         {
         var item = document.getElementById(id);
         if (item.style.display == 'none') {item.style.display = 'block';}
         else item.style.display = 'none';
         }
    </script>
    <link rel="stylesheet" media="all" href="{% static "style.css"%}" type="text/css">
</head>
<body>
    <h2 class="title">Cluster Web Searcher</h2>
    <div class="request">
        <br><label class="comment">Введите поисковый запрос / Input a search request</label><br><br>
        <form action="" method="GET">
            {% for field in form %}
                <p align="center">{{ field }}</p>
            {% endfor %}
            <br><p align="center"><input type="submit" value=""></p>
            <br>
        </form>
    </div>
    <br><br>
    <div class="results">
        {% if clusters|length > 0 %}
            {% for cluster in clusters %}
                <div class="cluster">
                    {{ cluster.tags|join:", " }}
                    <a href="javascript:show_hide('{{ cluster.id }}')">show/hide</a><br>
                    <div id="{{ cluster.id }}">
                        {% for result in cluster.results %}
                            <div class="result">
                                <a href="{{ result.url }}" target="_blank">{{ result.title }}</a>
                                <br>{{ result.snippet }}<br>
                            </div>
                            {% endfor %}
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <span class="noresults">К сожалению, результаты не найдены :(</span>
        {% endif %}
    </div>

</body>
</html>